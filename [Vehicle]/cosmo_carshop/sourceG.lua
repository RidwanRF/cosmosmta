carshoppos = {
   [1] = {2131.7893066406, -1149.8962402344, 24.216522216797}, 
   
} 

veh = { -- id , név, üzemanyag , drivetype , pp ár , ár ,limit

	[1] = {558,"BMW M3 e46","Benzin","Hátsókerék meghajtás",85000,21000000,105},
    [2] = {445,"BMW M5 E60","Benzin","Hátsókerék meghajtás",100000,26000000,95},
	[3] = {491,"BMW M635 CSi e24","Benzin","Hátsókerék meghajtás",6000,6000000,60},
	[4] = {492,"BMW M5 F90","Benzin","Hátsókerék meghajtás",100000,26000000,82},
    [5] = {587,"BMW M6","Benzin","Hátsókerék meghajtás",100000,3100000,30},
	[6] = {421,"BMW 7 Series F01","Benzin","Hátsókerék meghajtás",5600,2000000,150},
	[7] = {420,"BMW M5 e34","Benzin","Hátsókerék meghajtás",49000,2950000,60},
    [8] = {522,"BMW S 1000","Benzin","Hátsókerék meghajtás",12000,12000000,120},	
    [9] = {404,"Audi Rs6 C7","Benzin","Hátsókerék meghajtás",6000,3200000,100},
    [10] = {580,"Audi Rs4","Benzin","Hátsókerék meghajtás",5500,3000000,110},	
    [11] = {602,"Audi Quattro","Benzin","Hátsókerék meghajtás",5000,10000000,120},
    [12] = {585,"Audi 80 Avant","Benzin","Hátsókerék meghajtás",2000,1500000,110},
    [13] = {555,"Lexus LC500","Benzin","Hátsókerék meghajtás",8000,22000000,60},	
	[14] = {533,"Audi R8 Spyder","Benzin","Hátsókerék meghajtás",43000,2450000,55},
	[15] = {550,"Mercedes-Benz e420 w210","Benzin","Hátsókerék meghajtás",2500,4650000,180},
    [16] = {466,"Mercedes-Benz Maybach S650","Benzin","Hátsókerék meghajtás",10000,2500000,50},
    [17] = {400,"Mercedes Benz G65","Benzin","Hátsókerék meghajtás",12000,3200000,85},
    [18] = {438,"Mercedes-Benz e250 Estate","Benzin","Hátsókerék meghajtás",15000,1500000,85},	
	[19] = {507,"Mercedes-Benz e500 w124","Benzin","Hátsókerék meghajtás",32000,2250000,80},
	[20] = {494,"Ferrari F12 Berlinetta","Benzin","Hátsókerék meghajtás",26000,3450000,55},
	[21] = {405,"Alfa Romeo Giulia","Benzin","Összkerék",79000,4650000,30},
    [22] = {516,"Dodge Charger SRT Hellcat","Benzin","Hátsókerék meghajtás",100000,200000000,65},	
    [23] = {474, "Volkswagen Beetle 1963","Benzin","Hátsókerék meghajtás",3000,1000000,110},	
    [24] = {410,"Volkswagen Golf 1","Benzin","Hátsókerék meghajtás",3000,1000000,170},	
    [25] = {547,"Volkswagen Golf MK8","Benzin","Hátsókerék meghajtás",6000,6000000,100},	
	[26] = {496,"Volkswagen Golf VII","Benzin","Hátsókerék meghajtás",40000,30000000,60},	
    [27] = {527,"Ford Shelby GT500","Dízel","Hátsókerék meghajtás",6500,230000,60},
    [28] = {401,"Nissan GT-R","Dízel","Hátsókerék meghajtás",15000,110000,240},	
	[29] = {543,"Ford F-150","Benzin","Hátsókerék meghajtás",3000,1600000,170},
    [30] = {413,"Ford Econoline","Benzin","Hátsókerék meghajtás",3000,1600000,170},
    [31] = {495,"Ford F-150 Raptor '17","Benzin","Hátsókerék meghajtás",43000,75000000,40},	
    [32] = {458,"Mitsubishi Lancer EVO IX","Benzin","Hátsókerék meghajtás",50000,20000000,60},
    [33] = {546,"Dodge Charger SRT8","Benzin","Hátsókerék meghajtás",30000,17000000,120},	
    [34] = {562,"Nissan Skyline R32","Benzin","Hátsókerék meghajtás",28000,3250000,70},	
    [35] = {560,"Nissan 240SX","Benzin","Hátsókerék meghajtás",49000,2950000,60},	
	[36] = {439,"Dodge Charger 69 R/T","Benzin","Hátsókerék meghajtás",5000,2600000,90},
	[37] = {554,"Dodge Ram 3500 HD","Benzin","Hátsókerék meghajtás",5000,1300000,120},
    [38] = {426,"Dodge Demon","Benzin","Hátsókerék meghajtás",7500,42000000,35},
    [39] = {439,"Dodge Charger 69 R/T","Dízel","Hátsókerék meghajtás",3000,1300000,120},
	[40] = {541,"Chevrolet Camaro ZL1","Dízel","Hátsókerék meghajtás",9000,30000000,50},
	[41] = {517,"Dodge Coronet","Benzin","Hátsókerék meghajtás",7000,2000000,90},
	[42] = {467,"Chevrolet Caprice '87","Benzin","Hátsókerék meghajtás",8000,6500000,90},
    [43] = {529,"Seat Leon","Benzin","Hátsókerék meghajtás",2500,4500000,800},
    [44] = {411,"Ferrari 488 Pista","Benzin","Hátsókerék meghajtás",5000,3100000,70},
    [45] = {451,"Lamborghini Gallardo","Benzin","Hátsókerék meghajtás",15000,50000000,40},
    [46] = {480,"Porsche 911 Turbo S","Benzin","Hátsókerék meghajtás",7600,6000000,50},
    [47] = {540,"Subaru Impreza WRX STI","Benzin","Hátsókerék meghajtás",4300,3300000,75},
    [48] = {429,"Chevrolet Corvette C8","Benzin","Hátsókerék meghajtás",50000,2700000,75},
    [49] = {415,"McLaren P1","Benzin","Hátsókerék meghajtás",75000,3500000,55},
    [50] = {579,"Range Rover Sport SC","Benzin","Hátsókerék meghajtás",35000,1750000,60},
    [51] = {402,"Pontiac Firebird","Benzin","Hátsókerék meghajtás",22000,1850000,100},
    [52] = {483,"Barkas B1000-1","Benzin","Hátsókerék meghajtás",12000,1250000,170},
    [53] = {521,"Ducati Desmosedici RR","Benzin","Hátsókerék meghajtás",13000,1450000,162},
    [54] = {503,"Bugatti Divo","Benzin","Hátsókerék meghajtás",76000,4450000,20},
    [55] = {561,"Mitsubishi Lancer EVO X","Benzin","Hátsókerék meghajtás",4300,3300000,90},
    [56] = {477,"Mazda RX-7","Benzin","Hátsókerék meghajtás",25000,3300000,80},
    [57] = {506,"Koenigsegg Jesko","Benzin","Hátsókerék meghajtás",25000,4300000,40},
    [58] = {475,"Plymouth Hemi Cuda 70","Benzin","Hátsókerék meghajtás",13000,12000000,155},
    [59] = {500,"Jeep Grand Cherokee","Benzin","Hátsókerék meghajtás",5000,3000000,105},
	[60] = {468, "Sanchez","Benzin","Hátsókerék meghajtás",1500,1500000,900},
    [61] = {586, "Harley Davidson Fat Boy","Benzin","Hátsókerék meghajtás",2000,4500000,160},
	[62] = {463, "Harley Davidson Knucklehead","Benzin","Hátsókerék meghajtás",3000,1000000,162},
	[63] = {566,"Ford Crown Victoria","Benzin","Hátsókerék meghajtás",40000,30000000,80},	
	[64] = {470, "Hummer H1","Benzin","Hátsókerék meghajtás",200000,215000000,20},		
	[65] = {559, "Toyota Supra MK4","Benzin","Hátsókerék meghajtás",500000,1000000000,5},
}

spawnpos = {
	{2161.9658203125, -1143.6215820313, 24.853321075439, 90},
	{2161.7326660156, -1147.8012695313, 24.426229476929, 90},
	{2161.46875, -1152.5961914063, 23.938905715942, 90},
	{2161.6159667969, -1162.5300292969, 23.816854476929, 90},
	{2161.1982421875, -1167.6115722656, 23.81520652771, 90},
	{2160.751953125, -1172.7290039063, 23.819984436035, 90},
	{2161.0400390625, -1182.5433349609, 23.817918777466, 90},
}

vehicleComponents = {
	["door_lf_dummy"] = 2,
	["door_rf_dummy"] = 3,
	["door_lr_dummy"] = 4,
	["door_rr_dummy"] = 5,
	["bonnet_dummy"] = 0,
    ["boot_dummy"] = 1,
}

function formatMoney(amount)
    local formatted = amount
    while true do
        formatted, k = string.gsub(formatted, "^(-?%d+)(%d%d%d)", '%1.%2')
        if (k==0) then
            break
        end
    end
    return formatted
end

function isInSlot(xS,yS,wS,hS)
	if(isCursorShowing()) then
		XY = {guiGetScreenSize()}
		local cursorX, cursorY = getCursorPosition()
		cursorX, cursorY = cursorX*XY[1], cursorY*XY[2]
		if(isInBox(xS,yS,wS,hS, cursorX, cursorY)) then
			return true
		else
			return false
		end
	end	
end

function isInBox(dX, dY, dSZ, dM, eX, eY)
	if(eX >= dX and eX <= dX+dSZ and eY >= dY and eY <= dY+dM) then
		return true
	else
		return false
	end
end

sm = {}
sm.moov = 0
sm.object1,sm.object2 = nil,nil
 
function removeCamHandler()
	if(sm.moov == 1)then
		sm.moov = 0
	end
end
 
function camRender()
	if (sm.moov == 1) then
		local x1,y1,z1 = getElementPosition(sm.object1)
		local x2,y2,z2 = getElementPosition(sm.object2)
		setCameraMatrix(x1,y1,z1,x2,y2,z2)
	else
		removeEventHandler("onClientPreRender",root,camRender)
	end
end

function smoothMoveCamera(x1,y1,z1,x1t,y1t,z1t,x2,y2,z2,x2t,y2t,z2t,time)
	if(sm.moov == 1)then
		destroyElement(sm.object1)
		destroyElement(sm.object2)
		killTimer(timer1)
		killTimer(timer2)
		killTimer(timer3)
		removeEventHandler("onClientPreRender",root,camRender)
	end
	sm.object1 = createObject(1337,x1,y1,z1)
	sm.object2 = createObject(1337,x1t,y1t,z1t)
        setElementCollisionsEnabled (sm.object1,false) 
	setElementCollisionsEnabled (sm.object2,false) 
	setElementAlpha(sm.object1,0)
	setElementAlpha(sm.object2,0)
	setObjectScale(sm.object1,0.01)
	setObjectScale(sm.object2,0.01)
	moveObject(sm.object1,time,x2,y2,z2,0,0,0,"InOutQuad")
	moveObject(sm.object2,time,x2t,y2t,z2t,0,0,0,"InOutQuad")
	sm.moov = 1
	timer1 = setTimer(removeCamHandler,time,1)
	timer2 = setTimer(destroyElement,time,1,sm.object1)
	timer3 = setTimer(destroyElement,time,1,sm.object2)
	addEventHandler("onClientPreRender",root,camRender)
	return true
end

function dxRoundedRectangle(x, y, w, h, bgColor, postGUI)
    if (x and y and w and h) then
        if (not borderColor) then
            borderColor = tocolor(0, 0, 0, 200);
        end
        
        if (not bgColor) then
            bgColor = borderColor;
        end
        
        --> Background
        dxDrawRectangle(x, y, w, h, bgColor, postGUI);
        
        --> Border
        dxDrawRectangle(x + 2, y - 1, w - 4, 1, bgColor, postGUI); -- top
        dxDrawRectangle(x + 2, y + h, w - 4, 1, bgColor, postGUI); -- bottom
        dxDrawRectangle(x - 1, y + 2, 1, h - 4, bgColor, postGUI); -- left
        dxDrawRectangle(x + w, y + 2, 1, h - 4, bgColor, postGUI); -- right
    end
end

function dxRoundedBorder(x, y, w, h, borderColor, postGUI)
    if (x and y and w and h) then
        if (not borderColor) then
            borderColor = tocolor(255, 255, 255, 230)
        end

        dxDrawRectangle(x - 1, y + 1, 1, h - 2, borderColor, postGUI); -- left
        dxDrawRectangle(x + w, y + 1, 1, h - 2, borderColor, postGUI); -- right
        dxDrawRectangle(x + 1, y - 1, w - 2, 1, borderColor, postGUI); -- top
        dxDrawRectangle(x + 1, y + h, w - 2, 1, borderColor, postGUI); -- bottom

        dxDrawRectangle(x, y, 1, 1, borderColor, postGUI);
        dxDrawRectangle(x + w - 1, y, 1, 1, borderColor, postGUI);
        dxDrawRectangle(x, y + h - 1, 1, 1, borderColor, postGUI);
        dxDrawRectangle(x + w - 1, y + h - 1, 1, 1, borderColor, postGUI);
    end
end