availableStations = {
	[1] = {
		stationDetails = {1001.860168457, -915.00323486328, 42.1796875 + 3.45, -90 + 8},
		pedDetails = {
			name = "Petrol Joe",
			skin = 21,
			position = {1001.6067504883, -909.68664550781, 42.1875},
			rotation = 190,
			interior = 0,
			dimension = 0
		},
		syncColShape = {
			details = {1005.0244140625, -937.34375, 42.3515625, 175}
		},
		outerColShape = {
			details = {977.41778564453, -950.47991943359, 49.592590332031, 47.887329101563}
		},
		innerColShape = {
			details = {994.3173828125, -943.6484375, 20, 15}
		},
		priceTable = {
			details = {8246, 1004.9754638672, -948.31744384766, 42.184020996094 + 1.25, 0, 0, 275 - 90}
		},
		fuelPositions = {}
	},
	[2] = {
		--stationDetails = {1903.5698242188, -1812.3430175781, 13.703174591064 + 3.45, 0},
		pedDetails = {
			name = "Petrol Joe",
			skin = 21,
			position = {1903.5698242188, -1812.3430175781, 13.703174591064},
			rotation = 270,
			interior = 0,
			dimension = 0
		},
		syncColShape = {
			details = {1922.2221679688, -1806.0998535156, 13.640625, 175}
		},
		outerColShape = {
			details = {1900.5803222656, -1824.81640625, 50.640625, 65.71044921875}
		},
		innerColShape = {
			details = {1900.5803222656, -1824.81640625, 50.640625, 65.44482421875}
		},
		priceTable = {
			details = {8246, 190051.6265869141, -1763.4243164063, 13.546875 + 1.25, 0, 0, 270 - 90}
		},
		fuelPositions = {}
	},
	[3] = {
		stationDetails = {-1684.2292480469, 423.80813598633, 7.1843748092651 + 3.45, -45},
		pedDetails = {
			name = "Petrol Joe",
			skin = 21,
			position = {-1686.4750976563, 425.34539794922, 7.1890621185303},
			rotation = 225,
			interior = 0,
			dimension = 0
		},
		syncColShape = {
			details = {-1672.6962890625, 408.4580078125, 7.1796875, 175}
		},
		outerColShape = {
			details = {-1672.6962890625, 408.4580078125, 7.1796875, 60}
		},
		innerColShape = {
			details = {-1672.6962890625, 408.4580078125, 7.1796875, 12}
		},
		priceTable = {
			details = {8246, -1679.7556152344, 391.25259399414, 7.1796875 + 1.25, 0, 0, 45}
		},
		fuelPositions = {}
	},
	[4] = {
		stationDetails = {-1599.3199462891, -2701.5258789063, 48.5390625 + 3.45, 232},
		pedDetails = {
			name = "Petrol Joe",
			skin = 21,
			position = {-1597.9281005859, -2699.2192382813, 48.543750762939},
			rotation = 140,
			interior = 0,
			dimension = 0
		},
		syncColShape = {
			details = {1005.0244140625, -937.34375, 42.3515625, 175}
		},
		outerColShape = {
			details = {977.41778564453, -950.47991943359, 49.592590332031, 47.887329101563}
		},
		innerColShape = {
			details = {994.3173828125, -943.6484375, 20, 15}
		},
		priceTable = {
			details = {8246, -1595.2563476563, -2741.3732910156, 48.654373168945 + 1.25, 0, 0, 225 + 90}
		},
		fuelPositions = {}
	},
	[5] = {
		stationDetails = {2257.6027832031, 45.537044525146, 26.3359375 + 3.45, 232},
		pedDetails = {
			name = "Teddy Martinez",
			skin = 124,
			position = {-28.255157470703, -186.83168029785, 1003.546875},
			rotation = 5,
			interior = 17,
			dimension = 1638
		},
		syncColShape = {
			details = {2259.123046875, 34.506851196289, 26.568286895752, 175}
		},
		outerColShape = {
			details = { 2235.2272949219, 15.494429588318, 36.592590332031, 60}
		},
		innerColShape = {
			details = {2246.1584472656, 32.537464141846, 28.249755859375, 12}
		},
		priceTable = {
			details = {8246, 2234.3371582031, 31.780553817749, 26.484375 + 1.25, 0, 0, 0}
		},
		fuelPositions = {}
	},
	[6] = {
		stationDetails = {-2032.6285400391, 156.91621398926, 29.046106338501 + 3.45, 232},
		pedDetails = {
			name = "John Martinez",
			skin = 127,
			position = {2.3382558822632, -30.700624465942, 1003.5494384766},
			rotation = 0,
			interior = 10,
			dimension = 1666
		},
		syncColShape = {
			details = {-2026.8092041016, 156.57766723633, 29.0390625, 175}
		},
		outerColShape = {
			details = { -2063.7214355469+4, 121.60250854492-3, 42, 65}
		},
		innerColShape = {
			details = {-2031.1904296875, 150.77130126953, 7, 12}
		},
		priceTable = {
			details = {8246, -2019.5537109375, 127.27674102783, 28.322200775146+1, 0, 0, 0}
		},
		fuelPositions = {}
	},
	[7] = {
		stationDetails = {656.26300048828, -564.55267333984, 16.3359375 + 3.45, 232},
		pedDetails = {
			name = "Bartha Gabron",
			skin = 311,
			position = {664.78814697266, -566.52526855469, 16.3359375},
			rotation = 180,
			interior = 0,
			dimension = 0
		},
		syncColShape = {
			details = {-2026.8092041016, 156.57766723633, 29.0390625, 175}
		},
		outerColShape = {
			details = { 651.75561523438, -590.01885986328, 20, 50}
		},
		innerColShape = {
			details = {654.05822753906-0.6, -573.71118164062, 5, 12}
		},
		priceTable = {
			details = {8246, 658.24731445312, -547.47790527344, 8.3359375+1, 0, 0, 0}
		},
		fuelPositions = {}
	},
	
}

if localPlayer then
	function rotateAround(angle, x, y, x2, y2)
		local targetX = x2 or 0
		local targetY = y2 or 0
		local centerX = x
		local centerY = y

		local radiant = math.rad(angle)
		local rotatedX = targetX + (centerX - targetX) * math.cos(radiant) - (centerY - targetY) * math.sin(radiant)
		local rotatedY = targetY + (centerX - targetX) * math.sin(radiant) + (centerY - targetY) * math.cos(radiant)

		return rotatedX, rotatedY
	end

	function createSpline(points, steps)
		if #points < 3 then
			return points
		end

		local spline = {}

		do
			steps = steps or 3
			steps = 1 / steps

			local count = #points - 1
			local p0, p1, p2, p3, x, y, z

			for i = 1, count do
				if i == 1 then
					p0, p1, p2, p3 = points[i], points[i], points[i + 1], points[i + 2]
				elseif i == count then
					p0, p1, p2, p3 = points[#points - 2], points[#points - 1], points[#points], points[#points]
				else
					p0, p1, p2, p3 = points[i - 1], points[i], points[i + 1], points[i + 2]
				end

				for t = 0, 1, steps do
					x = (1 * ((2 * p1[1]) + (p2[1] - p0[1]) * t + (2 * p0[1] - 5 * p1[1] + 4 * p2[1] - p3[1]) * t * t + (3 * p1[1] - p0[1] - 3 * p2[1] + p3[1]) * t * t * t)) * 0.5
					y = (1 * ((2 * p1[2]) + (p2[2] - p0[2]) * t + (2 * p0[2] - 5 * p1[2] + 4 * p2[2] - p3[2]) * t * t + (3 * p1[2] - p0[2] - 3 * p2[2] + p3[2]) * t * t * t)) * 0.5
					z = (1 * ((2 * p1[3]) + (p2[3] - p0[3]) * t + (2 * p0[3] - 5 * p1[3] + 4 * p2[3] - p3[3]) * t * t + (3 * p1[3] - p0[3] - 3 * p2[3] + p3[3]) * t * t * t)) * 0.5

					local splineId = #spline

					if not (splineId > 0 and spline[splineId][1] == x and spline[splineId][2] == y and spline[splineId][3] == z) then
						spline[splineId + 1] = {x, y, z}
					end
				end
			end
		end

		return spline
	end

	function addFuelPoint(stationId, x, y, z, rot)
		local x2 = 0
		local y2 = 0

		local fuelPoint = {}

		rot = ((360 - rot) % 360 - 180) * -1

		fuelPoint.element = createObject(3465, x, y, z, 0, 0, 0 + rot)
		setElementDoubleSided(fuelPoint.element, true)
		setElementData(fuelPoint.element, "isFuelPump", stationId)

		-- ** Oldal 1.
		fuelPoint.drawPosition = {x2 + 0.350, y2 - 0.37, z - 0.275, 1, 0, 0.25}

		local rotatedX, rotatedY = rotateAround(rot, fuelPoint.drawPosition[1], fuelPoint.drawPosition[2])
		fuelPoint.drawPosition[1], fuelPoint.drawPosition[2] = rotatedX + x, rotatedY + y

		rotatedX, rotatedY = rotateAround(rot, fuelPoint.drawPosition[4], fuelPoint.drawPosition[5])
		fuelPoint.drawPosition[4], fuelPoint.drawPosition[5] = rotatedX, rotatedY

		fuelPoint.pistolDetails = {
			{330, x2 + 0.4, y2 + 0.0425, z - 0.275, 0, 90, 0 + rot},
			{330, x2 + 0.4, y2 + 0.55, z - 0.275, 0, 90, 0 + rot},
		}

		fuelPoint.lineStart = {
			{x2 + 0.3, y2 + 0.0425, z - 1.5},
			{x2 + 0.3, y2 + 0.55, z - 1.5},
		}

		fuelPoint.linePositions = {
			{
				{x2 + 0.3, y2 + 0.0425, z - 1.45},
				{x2 + 0.4, y2 + 0.05, z - 1.45},
				{x2 + 0.5, y2 + 0.25, z - 1.4},
				{x2 + 0.6, y2 + 0.125, z - 1.3},
				{x2 + 0.4, y2 + 0.0425, (z - 0.275) + ((z - 1.3) - (z - 0.275)) / 2},
				{x2 + 0.4 - 0.005, y2 + 0.0425, z - 0.275}
			},
			{
				{x2 + 0.3, y2 + 0.55, z - 1.45},
				{x2 + 0.4, y2 + 0.575, z - 1.45},
				{x2 + 0.5, y2 + 0.775, z - 1.4},
				{x2 + 0.6, y2 + 0.65, z - 1.3},
				{x2 + 0.4, y2 + 0.55, (z - 0.275) + ((z - 1.3) - (z - 0.275)) / 2},
				{x2 + 0.4 - 0.005, y2 + 0.55, z - 0.275}
			}
		}

		for i = 1, #fuelPoint.pistolDetails do
			rotatedX, rotatedY = rotateAround(rot, fuelPoint.pistolDetails[i][2], fuelPoint.pistolDetails[i][3])
			fuelPoint.pistolDetails[i][2], fuelPoint.pistolDetails[i][3] = rotatedX + x, rotatedY + y
		end

		for i = 1, #fuelPoint.lineStart do
			rotatedX, rotatedY = rotateAround(rot, fuelPoint.lineStart[i][1], fuelPoint.lineStart[i][2])
			fuelPoint.lineStart[i][1], fuelPoint.lineStart[i][2] = rotatedX + x, rotatedY + y

			if fuelPoint.linePositions[i] then
				for j = 1, #fuelPoint.linePositions[i] do
					rotatedX, rotatedY = rotateAround(rot, fuelPoint.linePositions[i][j][1], fuelPoint.linePositions[i][j][2])
					fuelPoint.linePositions[i][j][1], fuelPoint.linePositions[i][j][2] = rotatedX + x, rotatedY + y
				end

				fuelPoint.linePositions[i] = createSpline(fuelPoint.linePositions[i])
			end
		end

		fuelPoint.colShapeDetails = {x2 + 1, y2 + 0.25, z - 0.375, 1}
		rotatedX, rotatedY = rotateAround(rot, fuelPoint.colShapeDetails[1], fuelPoint.colShapeDetails[2])
		fuelPoint.colShapeDetails[1], fuelPoint.colShapeDetails[2] = rotatedX + x, rotatedY + y

		fuelPoint.checkRotation = function (angle)
			return angle < 270 + rot and angle > 90 + rot
		end

		table.insert(availableStations[stationId].fuelPositions, fuelPoint)

		-- ** Oldal 2.
		fuelPoint = {}

		fuelPoint.drawPosition = {x2 - 0.350 - 0.025, y2 - 0.37, z - 0.275, -1, 0, 0.25}

		local rotatedX, rotatedY = rotateAround(rot, fuelPoint.drawPosition[1], fuelPoint.drawPosition[2])
		fuelPoint.drawPosition[1], fuelPoint.drawPosition[2] = rotatedX + x, rotatedY + y

		rotatedX, rotatedY = rotateAround(rot, fuelPoint.drawPosition[4], fuelPoint.drawPosition[5])
		fuelPoint.drawPosition[4], fuelPoint.drawPosition[5] = rotatedX, rotatedY

		fuelPoint.pistolDetails = {
			{330, x2 - 0.4 - 0.025, y2 + 0.0425, z - 0.275, 0, 90, 180 + rot},
			{330, x2 - 0.4 - 0.025, y2 + 0.55, z - 0.275, 0, 90, 180 + rot},
		}

		fuelPoint.lineStart = {
			{x2 - 0.3 - 0.025, y2 + 0.0425, z - 1.5},
			{x2 - 0.3 - 0.025, y2 + 0.55, z - 1.5},
		}

		fuelPoint.linePositions = {
			{
				{x2 - 0.3 - 0.025, y2 + 0.0425, z - 1.45},
				{x2 - 0.4 - 0.025, y2 + 0.05, z - 1.45},
				{x2 - 0.5 - 0.025, y2 + 0.25, z - 1.4},
				{x2 - 0.6 - 0.025, y2 + 0.125, z - 1.3},
				{x2 - 0.4 - 0.025, y2 + 0.0425, (z - 0.275) + ((z - 1.3) - (z - 0.275)) / 2},
				{x2 - 0.4 - 0.025 + 0.005, y2 + 0.0425, z - 0.275}
			},
			{
				{x2 - 0.3 - 0.025, y2 + 0.55, z - 1.45},
				{x2 - 0.4 - 0.025, y2 + 0.575, z - 1.45},
				{x2 - 0.5 - 0.025, y2 + 0.775, z - 1.4},
				{x2 - 0.6 - 0.025, y2 + 0.65, z - 1.3},
				{x2 - 0.4 - 0.025, y2 + 0.55, (z - 0.275) + ((z - 1.3) - (z - 0.275)) / 2},
				{x2 - 0.4 - 0.025 + 0.005, y2 + 0.55, z - 0.275}
			}
		}

		for i = 1, #fuelPoint.pistolDetails do
			rotatedX, rotatedY = rotateAround(rot, fuelPoint.pistolDetails[i][2], fuelPoint.pistolDetails[i][3])
			fuelPoint.pistolDetails[i][2], fuelPoint.pistolDetails[i][3] = rotatedX + x, rotatedY + y
		end

		for i = 1, #fuelPoint.lineStart do
			rotatedX, rotatedY = rotateAround(rot, fuelPoint.lineStart[i][1], fuelPoint.lineStart[i][2])
			fuelPoint.lineStart[i][1], fuelPoint.lineStart[i][2] = rotatedX + x, rotatedY + y

			if fuelPoint.linePositions[i] then
				for j = 1, #fuelPoint.linePositions[i] do
					rotatedX, rotatedY = rotateAround(rot, fuelPoint.linePositions[i][j][1], fuelPoint.linePositions[i][j][2])
					fuelPoint.linePositions[i][j][1], fuelPoint.linePositions[i][j][2] = rotatedX + x, rotatedY + y
				end

				fuelPoint.linePositions[i] = createSpline(fuelPoint.linePositions[i])
			end
		end

		fuelPoint.colShapeDetails = {x2 - 1 - 0.025, y2 + 0.25, z - 0.375, 1}
		rotatedX, rotatedY = rotateAround(rot, fuelPoint.colShapeDetails[1], fuelPoint.colShapeDetails[2])
		fuelPoint.colShapeDetails[1], fuelPoint.colShapeDetails[2] = rotatedX + x, rotatedY + y

		fuelPoint.checkRotation = function (angle)
			return not (angle < 270 + rot) or not (angle > 90 + rot)
		end

		table.insert(availableStations[stationId].fuelPositions, fuelPoint)
	end

	addFuelPoint(1, 1002.737121582, -935.22277832031, 42.194713592529 + 0.5, 278)
	addFuelPoint(1, 1007.8945922852, -934.54553222656, 42.194713592529+0.5, 278)
	
	addFuelPoint(2, 1931.3251953125, -1796.6667480469, 13.828125 + 0.5, 224)
	addFuelPoint(2, 1925.7947998047, -1802.3604736328, 13.828125 + 0.5, 224)

	addFuelPoint(3, -1671.6778564453, 408.6171875, 7.4703121185303 + 0.5, 225 - 90)
	addFuelPoint(3, -1668.8273925781, 411.43661499023, 7.4703121185303 + 0.5, 225 - 90)

	addFuelPoint(4, -1613.4952392578, -2715.4079589844, 48.825000762939 + 0.5, 50)
	addFuelPoint(4, -1609.8369140625, -2718.2448730469, 48.825000762939 + 0.5, 50)
	
	addFuelPoint(5, 2264.3098144531, 34.998207092285, 26.765554428101 + 0.5, 90)
	addFuelPoint(5, 2264.3098144531-11, 34.998207092285, 26.765554428101 + 0.5, 90)
	
	addFuelPoint(6, -2026.9683837891+0.3, 156.75047302246, 29.0390625 + 0.5, 0)
	
	addFuelPoint(7, 655.97650146484, -570.49041748047, 16.5014915466315 + 0.5, 0)
	addFuelPoint(7, 655.57495117188, -559.53088378906, 16.501491546631 + 0.5, 0)

	wheelSide = {
		bh = "wheel_lb_dummy",
		jh = "wheel_rb_dummy",
		je = "wheel_rf_dummy",
		be = "wheel_lf_dummy"
	}

	centerFilling = {
		[448] = true,
		[461] = true,
		[462] = true,
		[463] = true,
		[468] = true,
		[471] = true,
		[521] = true,
		[522] = true,
		[523] = true,
		[581] = true,
		[586] = true
	}

	defaultFuelSide = "jh"
	fuelSides = {
		-- Lehetőségek: "bh" (bal hátsó); "jh" (jobb hátsó); "je" (jobb első); "be" (bal első); {x, y} => koordináta ha a tanksapkához / custom helyre akarod
		[123] = "jh",
		[505] = {1.5, -0.65},
	}

	defaultFuelType = "p"
	vehicleFuelTypes = {
		-- Típusok: d => dízel; p => benzin, e => elektromos(ha van)
		[505] = "d"
	}
end