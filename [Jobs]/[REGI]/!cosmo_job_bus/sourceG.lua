function rotateAround(angle, x, y, x2, y2)
	local theta = math.rad(angle)
	local rotatedX = x * math.cos(theta) - y * math.sin(theta) + (x2 or 0)
	local rotatedY = x * math.sin(theta) + y * math.cos(theta) + (y2 or 0)
	return rotatedX, rotatedY
end

pedPositions = {
	{0.5, 1.85, 0.7},
	{-0.9, 2.75, 0.7},
	{-0.9, -2.2, 1},
	{-0.9, -5.1, 1},
	{-0.5, -5.1, 1},
	{-0.5, 1.85, 0.7},
	{0.5, -3.1, 1},
	{-0.5, -3.1, 1},
	{-0.9, -4.2, 1},
	{0.85, 1.85, 0.7},
	{-0.5, 0.95, 0.7},
	{-0.9, 1.85, 0.7},
	{-0.9, -3.1, 1},
	{0.5, 3.65, 0.7},
	{-0.9, 0.95, 0.7},
	{0.5, 2.75, 0.7},
	{0.85, 0.95, 0.7},
	{0.5, 0.95, 0.7},
	{0.5, -5.1, 1},
	{-0.5, -2.2, 1},
	{0.85, -2.2, 1},
	{0.85, -5.1, 1},
	{-0.5, 2.75, 0.7},
	{0.85, -3.1, 1},
	{0.5, -2.2, 1},
	{0.85, -4.2, 1},
	{-0.5, 3.65, 0.7},
	{-0.9, 3.65, 0.7},
	{0.85, 3.65, 0.7},
	{-0.5, -4.2, 1},
	{0.85, 2.75, 0.7},
	{0.5, -4.2, 1}
}

pedBasePositions = {
	{-1.5, -2},
	{-1.5, -1},
	{-1.5, 0},
	{-1.5, 1},
	{-1.5, 2}
}

busStops = {}

markerPoints = {
	normal = {},
	country = {}
}

pedPoints = {
	normal = {},
	country = {}
}

function initBusStop(lineType, baseX, baseY, baseZ, rotation)
	local markerX, markerY = rotateAround(rotation, -4, 0)
	--outputChatBox(markerX)
	table.insert(markerPoints[lineType], {baseX + markerX, baseY + markerY, baseZ})

	if setObjectBreakable then
		local objectElement = createObject(1257, baseX, baseY, baseZ + 0.15, 0, 0, rotation)

		if isElement(objectElement) then
			setObjectBreakable(objectElement, false)
			busStops[objectElement] = true
		end
	end

	local markerId = #markerPoints[lineType]

	pedPoints[lineType][markerId] = {}

	for i = 1, #pedBasePositions do
		local pedX, pedY = rotateAround(rotation, pedBasePositions[i][1], pedBasePositions[i][2])

		table.insert(pedPoints[lineType][markerId], {baseX + pedX, baseY + pedY, baseZ, rotation + 90})
	end
end
--palo
--2558.23046875, 48.434097290039, 26.484375
local busStopsTable = {
	{1827.8341064453, -1855.2061767578, 13.578125, 0}, -- kész
	{1598.9077148438, -1865.2504882812, 13.532299995422, 90}, -- kész
	{1248.5897216797, -1845.0727539062, 13.546681404114, 90}, -- kész
	{1040.3956298828, -1905.4320068359, 13.175180435181, 180}, -- kész
	{1046.3823242188, -2309.9416503906, 13.09375, 210}, -- kész
	{1399.3458251953, -2293.0627441406, 13.540341377258, 270}, -- kész
	{1539.5124511719, -2201.3559570312, 13.546875, 270}, -- kész
	{1849.5040283203, -2173.4396972656, 13.546875, 270}, -- kész
	{1968.1928710938, -2088.7221679688, 13.554307937622, 0}, -- kész
	{1968.4371337891, -1903.6058349609, 13.546875, 0}, -- kész
	{2005.8122558594, -1759.0189208984, 13.539081573486, 270}, -- kész
	{2159.8833007812, -1759.0992431641, 13.541403770447, 270}, -- kész
	{2289.3767089844, -1739.3508300781, 13.546875, 270}, -- kész
	{2384.5903320312, -1739.4632568359, 13.546875, 270}, -- kész
	{2437.7624511719, -1561.1879882812, 24, 0}, -- kész
	{2458.1928710938, -1384.7143554688, 23.984256744385, 0}, -- kész
	{2425.1760253906, -1249.9324951172, 23.841024398804, 90}, -- kész
	{2377.8332519531, -1197.8168945312, 27.422292709351, 0}, -- kész
	-----------------------------------
	{2306.7189941406, -1145.3572998047, 26.971967697144, 80}, -- kész
	{2264.0668945312, -1260.3795166016, 23.9765625, 180}, -- kész
	{2236.8156738281, -1377.6647949219, 23.9921875, 90}, -- kész
	{2111.5297851562, -1377.875, 23.96866607666, 90}, -- kész
	{2078.5979003906, -1245.7501220703, 23.9801902771, 0}, -- kész
	{2078.388671875, -1160.5640869141, 23.859539031982, 360}, -- kész
	{1947.365234375, -1129.0638427734, 25.6689453125, 90}, -- kész
	{1788.3862304688, -1166.2237548828, 23.828125, 73}, -- kész
	{1606.1950683594, -1154.2918701172, 24.078125, 90}, -- kész
	{939.62860107422, -1134.0627441406, 23.852840423584, 90}, -- kész
	{790.91680908203, -1269.6773681641, 13.553192138672, 180}, -- kész
	{790.22802734375, -1445.1224365234, 13.546911239624, 180}, -- kész
	{815.65325927734, -1603.345703125, 13.546875, 230}, -- kész
	----------------------------------
	{962.57873535156, -1579.1274414062, 13.546875, 270}, -- kész
	{1120.2501220703, -1579.0593261719, 13.567524909973, 270}, -- kész
	{1401.4263916016, -1598.3817138672, 13.546875, 260}, -- kész
	{1422.8919677734, -1700.0716552734, 13.546875, 180}, -- kész
	{1382.6978759766, -1793.0762939453, 13.546875, 180}, -- kész
	{1475.9890136719, -1878.8015136719, 13.546875, 270}, -- kész
	{1646.5441894531, -1879.0859375, 13.543897628784, 270}, -- kész
	{1753.2811279297, -1828.1893310547, 13.539081573486, 250}, -- kész
	{1815.1243896484, -1870.6234130859, 13.570352554321, 180} -- kész
}

for k, v in ipairs(busStopsTable) do
	initBusStop("normal", v[1], v[2], v[3], v[4])
end

--initBusStop("normal", 1598.8460693359, -1866.6883544922+0.4, 13.538970947266, 90)